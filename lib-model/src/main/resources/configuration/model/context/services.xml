<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean name="quartzManagementService" class="org.qzerver.model.service.quartz.management.impl.QuartzManagementServiceImpl">
        <constructor-arg index="0" ref="quartzScheduler"/>
    </bean>

    <bean id="quartzExecutorService" class="org.qzerver.model.service.quartz.executor.impl.QuartzExecutorServiceImpl">
        <property name="beanValidator" ref="beanValidator"/>
        <property name="executionManagementService" ref="scheduleExecutionManagementService"/>
        <property name="chronometer" ref="chronometer"/>
    </bean>

    <bean id="clusterManagementService" class="org.qzerver.model.service.cluster.impl.ClusterManagementServiceImpl">
        <property name="clusterGroupDao" ref="clusterGroupDao"/>
        <property name="scheduleJobDao" ref="scheduleJobDao"/>
        <property name="businessEntityDao" ref="businessEntityDao"/>
    </bean>

    <bean id="scheduleJobManagementService" class="org.qzerver.model.service.job.management.impl.ScheduleJobManagementServiceImpl">
        <property name="beanValidator" ref="beanValidator"/>
        <property name="businessEntityDao" ref="businessEntityDao"/>
        <property name="scheduleJobDao" ref="scheduleJobDao"/>
        <property name="chronometer" ref="chronometer"/>
    </bean>

    <bean id="scheduleExecutionManagementService" class="org.qzerver.model.service.job.execution.impl.ScheduleExecutionManagementServiceImpl">
        <property name="beanValidator" ref="beanValidator"/>
        <property name="chronometer" ref="chronometer"/>
        <property name="scheduleExecutionDao" ref="scheduleExecutionDao"/>
        <property name="businessEntityDao" ref="businessEntityDao"/>
        <property name="clusterManagementService" ref="clusterManagementService"/>
        <property name="node" value="${app.host}"/>
    </bean>

</beans>